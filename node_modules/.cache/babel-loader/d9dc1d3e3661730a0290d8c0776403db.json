{"ast":null,"code":"var _jsxFileName = \"/Users/simranbhamra/Documents/cinemates/src/Components/Search.js\";\nimport React, { Component } from 'react';\nimport { Button, ButtonGroup, Input, Grid, Box } from \"@chakra-ui/react\";\nimport axios from 'axios';\nimport Suggestions from '../Components/Suggestions';\nimport { withRouter } from 'react-router-dom'; // const { API_KEY } = process.env\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'https://teampolaris.web.illinois.edu/search-movies';\n\nclass Search extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      query: '',\n      results: [],\n      queryTitleId: ''\n    };\n\n    this.getInfo = () => {\n      axios.get(`${API_URL}/${this.state.query}`).then(({\n        data\n      }) => {\n        this.setState({\n          results: data\n        });\n      });\n    };\n\n    this.handleInputChange = () => {\n      this.setState({\n        query: this.search.value\n      }, () => {\n        if (this.state.query && this.state.query.length > 1) {\n          if (this.state.query.length % 2 === 0) {\n            this.getInfo();\n          }\n        } else if (!this.state.query) {}\n      });\n    };\n\n    this.onSubmitHandler = e => {\n      e.preventDefault();\n      this.state.results.map(r => {\n        if (r.primaryTitle == this.state.query) {\n          this.state.queryTitleId = r.titleId;\n        }\n\n        ;\n      });\n      window.location.href = \"/#/movie/\" + this.state.queryTitleId;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      columns: 2,\n      rows: 1,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmitHandler,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            list: \"browsers\",\n            name: \"browser\",\n            id: \"browser\",\n            style: {\n              marginTop: \"10px\",\n              width: \"50%\",\n              height: \"50px\",\n              borderRadius: \"40px\"\n            },\n            focusBorderColor: \"orange.400\",\n            size: \"lg\",\n            bg: \"white\",\n            placeholder: \"Search\",\n            ref: input => this.search = input,\n            onChange: this.handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Suggestions, {\n            results: this.state.results\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            colorScheme: \"orange\",\n            variant: \"solid\",\n            type: \"submit\",\n            onClick: this.onSubmitHandler,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 1\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/simranbhamra/Documents/cinemates/src/Components/Search.js"],"names":["React","Component","Button","ButtonGroup","Input","Grid","Box","axios","Suggestions","withRouter","API_URL","Search","state","query","results","queryTitleId","getInfo","get","then","data","setState","handleInputChange","search","value","length","onSubmitHandler","e","preventDefault","map","r","primaryTitle","titleId","window","location","href","render","marginTop","width","height","borderRadius","input"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport {Button, ButtonGroup, Input, Grid, Box} from \"@chakra-ui/react\"\nimport axios from 'axios'\nimport Suggestions from '../Components/Suggestions'\nimport { withRouter } from 'react-router-dom';\n\n// const { API_KEY } = process.env\nconst API_URL = 'https://teampolaris.web.illinois.edu/search-movies'\n\nclass Search extends Component {\n  state = {\n    query: '',\n    results: [],\n    queryTitleId: ''\n  }\n\n  getInfo = () => {\n    axios.get(`${API_URL}/${this.state.query}`)\n      .then(({ data }) => {\n        this.setState({\n          results: data\n        })\n      })\n  }\n\n  handleInputChange = () => {\n    this.setState({\n      query: this.search.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        if (this.state.query.length % 2 === 0) {\n          this.getInfo()\n        }\n      } else if (!this.state.query) {\n      }\n    })\n  }\n\n  onSubmitHandler = (e) => {\n    e.preventDefault();\n    this.state.results.map(r => {\n        if (r.primaryTitle == this.state.query){\n          this.state.queryTitleId= r.titleId\n      };\n    });\n    window.location.href = \"/#/movie/\"+this.state.queryTitleId;\n  }\n\n\n  render() {\n    return (\n<Grid columns={2} rows={1} > \n      <form onSubmit={this.onSubmitHandler}>\n        <Box>\n        <Input list=\"browsers\" name=\"browser\" id=\"browser\"\n            style={\n                {\n                    marginTop: \"10px\",\n                    width: \"50%\",\n                    height:\"50px\",\n                    borderRadius: \"40px\"\n                }\n            }\n            focusBorderColor=\"orange.400\"\n            size=\"lg\"\n            bg=\"white\"\n            placeholder=\"Search\"\n            ref={input => this.search = input}\n            onChange={this.handleInputChange}\n        />\n\n        <Suggestions results={this.state.results} />\n        </Box>\n        <Box>\n        <Button  colorScheme=\"orange\" variant=\"solid\" type=\"submit\" onClick={this.onSubmitHandler}>Submit</Button>\n        </Box>\n    \n      </form>\n      </Grid>\n     \n    )\n\n  }\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}