{"ast":null,"code":"import _regeneratorRuntime from\"/Users/simranbhamra/Documents/cinemates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/simranbhamra/Documents/cinemates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/simranbhamra/Documents/cinemates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Flex,Box,Heading,FormControl,FormLabel,Input,Button,CircularProgress,Icon,InputGroup,InputRightElement,Text}from'@chakra-ui/react';import{userLogin}from'../Components/loginApi';import ErrorMessage from'../Components/LoginError';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function LoginPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isLoggedIn=_useState10[0],setIsLoggedIn=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),showPassword=_useState12[0],setShowPassword=_useState12[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setIsLoading(true);_context.prev=2;_context.next=5;return userLogin({email:email,password:password});case 5:setIsLoggedIn(true);setIsLoading(false);setShowPassword(false);_context.next=19;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.log(_context.t0);console.log('brokey');setError('Invalid username or password');setIsLoading(false);setEmail('');setPassword('');setShowPassword(false);case 19:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();var handlePasswordVisibility=function handlePasswordVisibility(){return setShowPassword(!showPassword);};return/*#__PURE__*/_jsx(Flex,{width:\"full\",align:\"center\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Box,{p:8,maxWidth:\"500px\",borderWidth:1,borderRadius:8,boxShadow:\"lg\",children:isLoggedIn?/*#__PURE__*/_jsxs(Box,{textAlign:\"center\",children:[/*#__PURE__*/_jsxs(Text,{children:[email,\" logged in!\"]}),/*#__PURE__*/_jsx(Button,{variantColor:\"orange\",variant:\"outline\",width:\"full\",mt:4,onClick:function onClick(){return setIsLoggedIn(false);},children:\"Sign out\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Box,{textAlign:\"center\",children:/*#__PURE__*/_jsx(Heading,{children:\"Login\"})}),/*#__PURE__*/_jsx(Box,{my:4,textAlign:\"left\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(ErrorMessage,{message:error}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",placeholder:\"test@test.com\",size:\"lg\",onChange:function onChange(event){return setEmail(event.currentTarget.value);}})]}),/*#__PURE__*/_jsxs(FormControl,{isRequired:true,mt:6,children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Password\"}),/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(Input,{type:showPassword?'text':'password',placeholder:\"*******\",size:\"lg\",onChange:function onChange(event){return setPassword(event.currentTarget.value);}}),/*#__PURE__*/_jsx(InputRightElement,{width:\"3rem\",children:/*#__PURE__*/_jsx(Button,{h:\"1.5rem\",size:\"sm\",onClick:handlePasswordVisibility,children:showPassword?/*#__PURE__*/_jsx(Icon,{name:\"view-off\"}):/*#__PURE__*/_jsx(Icon,{name:\"view\"})})})]})]}),/*#__PURE__*/_jsx(Button,{variantColor:\"teal\",variant:\"outline\",type:\"submit\",width:\"full\",mt:4,children:isLoading?/*#__PURE__*/_jsx(CircularProgress,{isIndeterminate:true,size:\"24px\",color:\"teal\"}):'Sign In'})]})})]})})});}","map":{"version":3,"sources":["/Users/simranbhamra/Documents/cinemates/src/Pages/LoginPage.js"],"names":["React","useState","Flex","Box","Heading","FormControl","FormLabel","Input","Button","CircularProgress","Icon","InputGroup","InputRightElement","Text","userLogin","ErrorMessage","LoginPage","email","setEmail","password","setPassword","error","setError","isLoading","setIsLoading","isLoggedIn","setIsLoggedIn","showPassword","setShowPassword","handleSubmit","event","preventDefault","console","log","handlePasswordVisibility","currentTarget","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {\n    Flex,\n    Box,\n    Heading,\n    FormControl,\n    FormLabel,\n    Input,\n    Button,\n    CircularProgress,\n    Icon,\n    InputGroup,\n    InputRightElement,\n    Text\n} from '@chakra-ui/react';\nimport {userLogin} from '../Components/loginApi';\nimport ErrorMessage from '../Components/LoginError'; \n\nexport default function LoginPage() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [showPassword, setShowPassword] = useState(false);\n  \n    const handleSubmit = async event => {\n      event.preventDefault();\n  \n      setIsLoading(true);\n  \n      try {\n        await userLogin({ email, password });\n        setIsLoggedIn(true);\n        setIsLoading(false);\n        setShowPassword(false);\n      } catch (error) {\n          console.log(error)\n          console.log('brokey')\n        setError('Invalid username or password');\n        setIsLoading(false);\n        setEmail('');\n        setPassword('');\n        setShowPassword(false);\n      }\n    };\n  \n    const handlePasswordVisibility = () => setShowPassword(!showPassword);\n  \n    return (\n      <Flex width=\"full\" align=\"center\" justifyContent=\"center\">\n        <Box\n          p={8}\n          maxWidth=\"500px\"\n          borderWidth={1}\n          borderRadius={8}\n          boxShadow=\"lg\"\n        >\n          {isLoggedIn ? (\n            <Box textAlign=\"center\">\n              <Text>{email} logged in!</Text>\n              <Button\n                variantColor=\"orange\"\n                variant=\"outline\"\n                width=\"full\"\n                mt={4}\n                onClick={() => setIsLoggedIn(false)}\n              >\n                Sign out\n              </Button>\n            </Box>\n          ) : (\n            <div>\n              <Box textAlign=\"center\">\n                <Heading>Login</Heading>\n              </Box>\n              <Box my={4} textAlign=\"left\">\n                <form onSubmit={handleSubmit}>\n                  {error && <ErrorMessage message={error} />}\n                  <FormControl isRequired>\n                    <FormLabel>Email</FormLabel>\n                    <Input\n                      type=\"email\"\n                      placeholder=\"test@test.com\"\n                      size=\"lg\"\n                      onChange={event => setEmail(event.currentTarget.value)}\n                    />\n                  </FormControl>\n                  <FormControl isRequired mt={6}>\n                    <FormLabel>Password</FormLabel>\n                    <InputGroup>\n                      <Input\n                        type={showPassword ? 'text' : 'password'}\n                        placeholder=\"*******\"\n                        size=\"lg\"\n                        onChange={event => setPassword(event.currentTarget.value)}\n                      />\n                      <InputRightElement width=\"3rem\">\n                        <Button\n                          h=\"1.5rem\"\n                          size=\"sm\"\n                          onClick={handlePasswordVisibility}\n                        >\n                          {showPassword ? (\n                            <Icon name=\"view-off\" />\n                          ) : (\n                            <Icon name=\"view\" />\n                          )}\n                        </Button>\n                      </InputRightElement>\n                    </InputGroup>\n                  </FormControl>\n                  <Button\n                    variantColor=\"teal\"\n                    variant=\"outline\"\n                    type=\"submit\"\n                    width=\"full\"\n                    mt={4}\n                  >\n                    {isLoading ? (\n                      <CircularProgress\n                        isIndeterminate\n                        size=\"24px\"\n                        color=\"teal\"\n                      />\n                    ) : (\n                      'Sign In'\n                    )}\n                  </Button>\n                </form>\n              </Box>\n            </div>\n          )}\n        </Box>\n      </Flex>\n    );\n  }\n"]},"metadata":{},"sourceType":"module"}