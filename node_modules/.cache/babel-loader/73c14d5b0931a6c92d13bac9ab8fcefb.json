{"ast":null,"code":"import _classCallCheck from\"/Users/simranbhamra/Documents/cinemates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/simranbhamra/Documents/cinemates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/simranbhamra/Documents/cinemates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/simranbhamra/Documents/cinemates/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,ButtonGroup,Input,Grid,Box,SimpleGrid}from\"@chakra-ui/react\";import axios from'axios';import Suggestions from'../Components/Suggestions';import{withRouter}from'react-router-dom';// const { API_KEY } = process.env\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_URL='https://teampolaris.web.illinois.edu/search-movies';var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={query:'',results:[],queryTitleId:''};_this.getInfo=function(){axios.get(\"\".concat(API_URL,\"/\").concat(_this.state.query)).then(function(_ref){var data=_ref.data;_this.setState({results:data});});};_this.handleInputChange=function(){_this.setState({query:_this.search.value},function(){if(_this.state.query&&_this.state.query.length>1){if(_this.state.query.length%2===0){_this.getInfo();}}else if(!_this.state.query){}});};_this.onSubmitHandler=function(e){e.preventDefault();_this.state.results.map(function(r){if(r.primaryTitle==_this.state.query){_this.state.queryTitleId=r.titleId;};});window.location.href=\"/#/movie/\"+_this.state.queryTitleId;};return _this;}_createClass(Search,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmitHandler,children:[/*#__PURE__*/_jsx(Input,{list:\"browsers\",name:\"browser\",id:\"browser\",style:{marginTop:\"20px\",width:\"75%\",height:\"50px\",borderRadius:\"40px\",marginRight:\"20px\",marginBottom:\"20px\"},focusBorderColor:\"orange.400\",size:\"lg\",bg:\"white\",placeholder:\"Search\",ref:function ref(input){return _this2.search=input;},onChange:this.handleInputChange}),/*#__PURE__*/_jsx(Suggestions,{results:this.state.results}),/*#__PURE__*/_jsx(Button,{bgColor:\"primary.200\",variant:\"solid\",type:\"submit\",onClick:this.onSubmitHandler,children:\"Submit\"})]});}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/simranbhamra/Documents/cinemates/src/Components/Search.js"],"names":["React","Component","Button","ButtonGroup","Input","Grid","Box","SimpleGrid","axios","Suggestions","withRouter","API_URL","Search","state","query","results","queryTitleId","getInfo","get","then","data","setState","handleInputChange","search","value","length","onSubmitHandler","e","preventDefault","map","r","primaryTitle","titleId","window","location","href","marginTop","width","height","borderRadius","marginRight","marginBottom","input"],"mappings":"wmBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,MAAR,CAAgBC,WAAhB,CAA6BC,KAA7B,CAAoCC,IAApC,CAA0CC,GAA1C,CAA+CC,UAA/C,KAAgE,kBAAhE,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAGA;wFACA,GAAMC,CAAAA,OAAO,CAAG,oDAAhB,C,GAEMC,CAAAA,M,2TACJC,K,CAAQ,CACNC,KAAK,CAAE,EADD,CAENC,OAAO,CAAE,EAFH,CAGNC,YAAY,CAAE,EAHR,C,OAMRC,O,CAAU,UAAM,CACdT,KAAK,CAACU,GAAN,WAAaP,OAAb,aAAwB,MAAKE,KAAL,CAAWC,KAAnC,GACGK,IADH,CACQ,cAAc,IAAXC,CAAAA,IAAW,MAAXA,IAAW,CAClB,MAAKC,QAAL,CAAc,CACZN,OAAO,CAAEK,IADG,CAAd,EAGD,CALH,EAMD,C,OAEDE,iB,CAAoB,UAAM,CACxB,MAAKD,QAAL,CAAc,CACZP,KAAK,CAAE,MAAKS,MAAL,CAAYC,KADP,CAAd,CAEG,UAAM,CACP,GAAI,MAAKX,KAAL,CAAWC,KAAX,EAAoB,MAAKD,KAAL,CAAWC,KAAX,CAAiBW,MAAjB,CAA0B,CAAlD,CAAqD,CACnD,GAAI,MAAKZ,KAAL,CAAWC,KAAX,CAAiBW,MAAjB,CAA0B,CAA1B,GAAgC,CAApC,CAAuC,CACrC,MAAKR,OAAL,GACD,CACF,CAJD,IAIO,IAAI,CAAC,MAAKJ,KAAL,CAAWC,KAAhB,CAAuB,CAC7B,CACF,CATD,EAUD,C,OAEDY,e,CAAkB,SAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GACA,MAAKf,KAAL,CAAWE,OAAX,CAAmBc,GAAnB,CAAuB,SAAAC,CAAC,CAAI,CACxB,GAAIA,CAAC,CAACC,YAAF,EAAkB,MAAKlB,KAAL,CAAWC,KAAjC,CAAuC,CACrC,MAAKD,KAAL,CAAWG,YAAX,CAAyBc,CAAC,CAACE,OAA3B,CACH,EACF,CAJD,EAKAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,YAAY,MAAKtB,KAAL,CAAWG,YAA9C,CACD,C,wDAGD,iBAAS,iBACP,mBAEE,cAAM,QAAQ,CAAE,KAAKU,eAArB,wBAEE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,IAAI,CAAC,SAA5B,CAAsC,EAAE,CAAC,SAAzC,CACI,KAAK,CACD,CACIU,SAAS,CAAE,MADf,CAEIC,KAAK,CAAE,KAFX,CAGIC,MAAM,CAAC,MAHX,CAIIC,YAAY,CAAE,MAJlB,CAKIC,WAAW,CAAC,MALhB,CAMIC,YAAY,CAAC,MANjB,CAFR,CAWI,gBAAgB,CAAC,YAXrB,CAYI,IAAI,CAAC,IAZT,CAaI,EAAE,CAAC,OAbP,CAcI,WAAW,CAAC,QAdhB,CAeI,GAAG,CAAE,aAAAC,KAAK,QAAI,CAAA,MAAI,CAACnB,MAAL,CAAcmB,KAAlB,EAfd,CAgBI,QAAQ,CAAE,KAAKpB,iBAhBnB,EAFF,cAqBE,KAAC,WAAD,EAAa,OAAO,CAAE,KAAKT,KAAL,CAAWE,OAAjC,EArBF,cAuBE,KAAC,MAAD,EAAQ,OAAO,CAAC,aAAhB,CAA8B,OAAO,CAAC,OAAtC,CAA8C,IAAI,CAAC,QAAnD,CAA4D,OAAO,CAAE,KAAKW,eAA1E,oBAvBF,GAFF,CAiCD,C,oBA1EkBzB,S,EA6ErB,cAAeW,CAAAA,MAAf","sourcesContent":["import React, { Component } from 'react'\nimport {Button, ButtonGroup, Input, Grid, Box, SimpleGrid} from \"@chakra-ui/react\"\nimport axios from 'axios'\nimport Suggestions from '../Components/Suggestions'\nimport { withRouter } from 'react-router-dom';\n\n\n// const { API_KEY } = process.env\nconst API_URL = 'https://teampolaris.web.illinois.edu/search-movies'\n\nclass Search extends Component {\n  state = {\n    query: '',\n    results: [],\n    queryTitleId: ''\n  }\n\n  getInfo = () => {\n    axios.get(`${API_URL}/${this.state.query}`)\n      .then(({ data }) => {\n        this.setState({\n          results: data\n        })\n      })\n  }\n\n  handleInputChange = () => {\n    this.setState({\n      query: this.search.value\n    }, () => {\n      if (this.state.query && this.state.query.length > 1) {\n        if (this.state.query.length % 2 === 0) {\n          this.getInfo()\n        }\n      } else if (!this.state.query) {\n      }\n    })\n  }\n\n  onSubmitHandler = (e) => {\n    e.preventDefault();\n    this.state.results.map(r => {\n        if (r.primaryTitle == this.state.query){\n          this.state.queryTitleId= r.titleId\n      };\n    });\n    window.location.href = \"/#/movie/\"+this.state.queryTitleId;\n  }\n\n\n  render() {\n    return (\n\n      <form onSubmit={this.onSubmitHandler}>\n        \n        <Input list=\"browsers\" name=\"browser\" id=\"browser\"\n            style={\n                {\n                    marginTop: \"20px\",\n                    width: \"75%\",\n                    height:\"50px\",\n                    borderRadius: \"40px\",\n                    marginRight:\"20px\",\n                    marginBottom:\"20px\"\n                }\n            }\n            focusBorderColor=\"orange.400\"\n            size=\"lg\"\n            bg=\"white\"\n            placeholder=\"Search\"\n            ref={input => this.search = input}\n            onChange={this.handleInputChange}\n        />\n\n        <Suggestions results={this.state.results} />\n       \n        <Button bgColor=\"primary.200\" variant=\"solid\" type=\"submit\" onClick={this.onSubmitHandler}>Submit</Button>\n       \n    \n      </form>\n   \n     \n    )\n\n  }\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}